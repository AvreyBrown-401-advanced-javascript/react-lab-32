{"version":3,"sources":["app.js","index.js"],"names":["socket","io","connect","queue","Q","App","props","_useState","useState","_useState2","Object","slicedToArray","values","setValues","_useState3","_useState4","queueMessage","setQueueMessage","_useState5","_useState6","socketMessage","setSocketMessage","handleChange","e","objectSpread","defineProperty","target","name","value","useEffect","subscribe","message","on","react_default","a","createElement","Fragment","JSON","stringify","onSubmit","preventDefault","reset","publish","emit","placeholder","onChange","Main","app","React","Component","rootElement","document","getElementById","ReactDOM","render","src_Main"],"mappings":"4RAMMA,EAASC,IAAGC,QAAQ,yBACpBC,EAAQ,IAAIC,IAAE,SA+CLC,EA7CH,SAACC,GAAU,IAAAC,EAEOC,mBAAS,IAFhBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAEdK,EAFcH,EAAA,GAENI,EAFMJ,EAAA,GAAAK,EAGmBN,mBAAS,IAH5BO,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAGdE,EAHcD,EAAA,GAGAE,EAHAF,EAAA,GAAAG,EAIqBV,mBAAS,IAJ9BW,EAAAT,OAAAC,EAAA,EAAAD,CAAAQ,EAAA,GAIdE,EAJcD,EAAA,GAICE,EAJDF,EAAA,GAMfG,EAAe,SAAAC,GACnBV,EAAUH,OAAAc,EAAA,EAAAd,CAAA,GAAIE,EAALF,OAAAe,EAAA,EAAAf,CAAA,GAAca,EAAEG,OAAOC,KAAOJ,EAAEG,OAAOE,UAwBlD,OAZAC,oBAAW,WACT1B,EAAM2B,UAAU,OAAQ,SAAAC,GACtBd,EAAgBc,KAGlB/B,EAAOgC,GAAG,WAAY,SAAAD,GACpBV,EAAiBU,MAGlB,IAIDE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KACEH,EAAAC,EAAAC,cAAA,2BAAmBE,KAAKC,UAAU1B,IAClCqB,EAAAC,EAAAC,cAAA,4BAAoBE,KAAKC,UAAUtB,IACnCiB,EAAAC,EAAAC,cAAA,6BAAqBE,KAAKC,UAAUlB,IACpCa,EAAAC,EAAAC,cAAA,QAAMI,SA1BW,SAAChB,GACpBA,EAAEiB,iBACFjB,EAAEG,OAAOe,QAETrC,IAAEsC,QAAQ,QAAS,OAAQ9B,GAC3BZ,EAAO2C,KAAK,QAAS/B,KAsBjBqB,EAAAC,EAAAC,cAAA,SAAOR,KAAK,YAAYiB,YAAY,aAAaC,SAAUvB,IAC3DW,EAAAC,EAAAC,cAAA,SAAOR,KAAK,WAAWiB,YAAY,YAAYC,SAAUvB,IACzDW,EAAAC,EAAAC,cAAA,yBC3CFW,mLAEF,OAAOb,EAAAC,EAAAC,cAACY,EAAD,aAFQC,IAAMC,WAMnBC,EAAcC,SAASC,eAAe,QAC5CC,IAASC,OAAOrB,EAAAC,EAAAC,cAACoB,EAAD,MAAUL","file":"static/js/main.bc354c2f.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react';\r\n\r\nimport io from 'socket.io-client';\r\nimport Q from '@nmq/q/client';\r\n\r\n// Connect outside of the render cycle ...\r\nconst socket = io.connect('http://localhost:3001');\r\nconst queue = new Q('deeds');\r\n\r\nconst App = (props) => {\r\n\r\n  const [values, setValues] = useState({});\r\n  const [queueMessage, setQueueMessage] = useState({});\r\n  const [socketMessage, setSocketMessage] = useState({});\r\n\r\n  const handleChange = e => {\r\n    setValues({...values, [e.target.name]: e.target.value});\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    e.target.reset();\r\n\r\n    Q.publish('deeds', 'work', values);\r\n    socket.emit('words', values);\r\n\r\n  };\r\n\r\n  useEffect( () => {\r\n    queue.subscribe('work', message => {\r\n      setQueueMessage(message);\r\n    });\r\n\r\n    socket.on('incoming', message => {\r\n      setSocketMessage(message);\r\n    });\r\n\r\n  }, []);\r\n\r\n\r\n  return (\r\n    <>\r\n      <pre>Form Values: {JSON.stringify(values)}</pre>\r\n      <pre>Queue Values: {JSON.stringify(queueMessage)}</pre>\r\n      <pre>Socket Values: {JSON.stringify(socketMessage)}</pre>\r\n      <form onSubmit={handleSubmit}>\r\n        <input name='firstName' placeholder=\"First Name\" onChange={handleChange} />\r\n        <input name='lastName' placeholder=\"Last Name\" onChange={handleChange} />\r\n        <button>Save</button>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport App from './app.js';\r\n\r\nclass Main extends React.Component {\r\n  render() {\r\n    return <App />;\r\n  }\r\n}\r\n\r\nconst rootElement = document.getElementById('root');\r\nReactDOM.render(<Main />, rootElement);\r\n"],"sourceRoot":""}